page.includeCSS {
	file1 = EXT:solr/Resources/Css/PiResults/results.css
	file2 = EXT:solrgeo/Resources/Public/Stylesheets/search.css
}

page.includeJSFooter {
	jquery = EXT:solr/Resources/JavaScript/JQuery/jquery.min.js
	google = http://maps.google.com/maps/api/js?sensor=false
	google.external = 1
	solrgeo = EXT:solrgeo/Resources/Public/Javascript/Geocoding.js
}

plugin.tx_solr {
	search {
		sorting {
			options {
				# For the sort-By Box
				geosearch {
					field = geo_location
					label = Distance
				}

			}
		}
	}
}

plugin.tx_solrgeo {
	view {
		templateRootPath = {$plugin.tx_solrgeo.view.templateRootPath}
		partialRootPath = {$plugin.tx_solrgeo.view.partialRootPath}
		layoutRootPath = {$plugin.tx_solrgeo.view.layoutRootPath}
	}
	persistence {
		storagePid = {$plugin.tx_solrgeo.persistence.storagePid}
	}
	features {
		# uncomment the following line to enable the new Property Mapper.
		# rewrittenPropertyMapper = 1
	}

	index {
		# Supported adapters:
		# BuzzHttpAdapter, CurlHttpAdapter, GuzzleHttpAdapter, SocketHttpAdapter, ZendHttpAdapter
		# For using Buzz, Guzzle and Zend please ensure you have installed the respectively libraries
		adapter = CurlHttpAdapter

		# Optional parameters for supported providers:
		# GoogleMapsProvider: locale, region, useSsl
		# GoogleMapsBusinessProvider extend GoogleMapsProvider: clientId (required), privateKey
		# OpenStreetMapProvider: locale
		provider {
			name = GoogleMapsProvider
			locale = de_DE
			region = Germany
			useSsl = 0
		}

		geocode {

			# Required fields: uid, city
            # Optional fields: address, geolocation

			pages {
				1 {
					uid = 3,51
					city = Frankfurt
					address = Kaiserstr. 73
				}

				2 {
					uid = 2
					city = Berlin
					geolocation =  52.5234051, 13.4113999
				}

				3 {
					uid = 4
					city = Frankfurt
					address = Eckenheimer Landstr. 180
				}
				4 {
					uid = 25
					city = Hanau
				}
				5 {
					uid = 43, 38
					city = Würzburg
					address = Keesburgstr. 72
				}
				6 {
					uid = 52, 53
					city = Wien
					country = Österreich
					address = Gredlerstr.
				}
			}

			# this are the indexed files with EXT:solrfile or EXT:solrfal
			files {
				1 {
					# This is the reference UID in the content element!
					uid = 110
					city = Frankfurt
					address = Eissporthalle
				}
			}

			# every table with at least the column uid, you configured with EXT:solr
			tx_news_domain_model_news {
				1 {
					uid = 1
					city = Frankfurt
					address = Kaiserstr. 73
				}
			}


		}
	}

	search {
		# Needed if you will link from EXT:solr to EXT:solrgeo.
		# TargetPageId is the id of page which includes the plugin
		targetPageId = 75

		query {
			filter {
				# valid filters: geofilt (The distance filter, exact search) or bbox (Bounding-box filter, less exact search)
				type = geofilt

				# default distance to search from given address in kilometers
				d = 100
			}

			sort {
				# asc, desc
				direction = asc
			}
		}

		faceting = 1
		faceting {
			distance = 1
			distance {
				# values are in kilometers
				ranges {
					1 {
						value = 0-1
					}
					2 {
						value = 1-5
					}
					3 {
						value = 5-50
					}
				}
			}

			city = 1
			city {
				sort {
					# asc, desc
					direction = asc

					# valid values for sort by: distance, alphabetic, numFound (= number of result)
					type = alphabetic
				}
			}
			country = 1
			country {
				sort {
					# asc, desc
					direction = asc

					# valid values for sort by: distance, alphabetic, numFound (= number of result)
					type = alphabetic
				}
			}
		}

		# The zoomfaktor for Google Maps
		maps {
			zoom {
				city = 8
				country = 5
			}
		}
	}
}